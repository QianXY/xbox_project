
<html lang="en">

<head>
 
    <!-- jQuery -->
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
   

    <script src="../dist/js/jquery-latest.js" type="text/javascript"></script>
    <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->


    <!-- Morris Charts JavaScript -->
    
    <link href="../dist/css/ucc.css" rel="stylesheet">



    <!-- Custom Theme JavaScript -->
    
    <script type="text/javascript">
        function getCookie(name) {
               var arr,reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)");
               if (arr = document.cookie.match(reg))
                   return unescape(arr[2]);
               else
                   return 'shabi';
        }

        function setCookie(cname, cvalue, exdays) {
                  var d = new Date();
                  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
                  var expires = null; //"expires=" + d.toUTCString();
                  this.document.cookie = cname + "=" + cvalue + "; " + expires;
            }





        var difficulty;
        var questionid;
        var question;
        var html;
        var explain;
        var answer;
        var getanswer;
        var totalCourse=getCookie("totalCourse");
        var difficulty;
        var apilink;
        var oldtime;
        var newtime;
        var time;
        var currentCourse="";
        //推荐内容
        var recomvideoUrl;
        var recomcontent;
        var recomquestion;
        var recomword;
        var getid;
        var length;
        var current=getCookie("currentlevel");
        var currentid=getCookie("currentlevelid");
        $(document).ready(function () {
            // alert(totalCourse);
            // var a="149448";
            // if(totalCourse.indexOf(a)>0)
            //     console.log(totalCourse);
            // else
            //     console.log("shashabi");
                $(function () { $("[data-toggle='tooltip']").tooltip(); });
                current=getCookie("currentlevel");
                currentid=getCookie("currentlevelid");
                $("#currentinfo").append(current);
                apilink="http://xboxweb.azurewebsites.net/api/question/ExplainQuestion/"+currentid;
                // apilink="http://xboxweb.azurewebsites.net/api/question/ExplainQuestion/149420";
                random(apilink);
                getrecom();



                function getrecom(){
                    $.ajax({
                    type: "GET",
                    url: "http://xboxweb.azurewebsites.net/api/explain/explain/"+currentid,
                        success: function (data) {
                            console.log(data);
                            recomvideoUrl=data.video_list[0].embed;
                            recomword=data.word;
                            recomcontent=data.content;
                            console.log(recomvideoUrl);
                            console.log(recomword);
                            console.log(recomcontent);
                            $("#img").attr("src",recomvideoUrl);
                            var videocache='<embed id="img" src="'+recomvideoUrl+'" allowFullScreen="true" quality="high"  style="width:100%;height:68%" align="middle" allowScriptAccess="always"></embed>';
                            var contentcache='<p id="contentplace2">'+recomcontent+'</p>';
                
                            $("#videoplace").append(videocache);
                            $("#textplace2").append(contentcache);
                        }
                    });
                }


                function random(apilink){
                    $.ajax({
                    type: "GET",
                    url: apilink,
                        success: function (data) {
                            var string_json = JSON.stringify(data);
                            var obj = JSON.parse(string_json);
                            questionid=data.questionID;
                            explain=data.answerExplain;
                            $('#Q0').append("<div class='questionlist' id='"+questionid+"'>"+data.content+"</div>");
                            $('#A0').append('<div id="'+questionid+'" class="useranswer input-group input-group-lg"><input id="input0" type="text" class="form-control inputa" placeholder="answer" size="50" ></div>');

                            oldtime=new Date();
                        }
                    });
                }

           


                function wronganswer(){
                    // now
                oldpower=getCookie("power");
                newpower=0;
                //选择
                // for(var i=0;i<5;i++){
                    var id=questionid;
                        
                        getanswer=$('input:text[id="input0"]').val();
                        if(getanswer==""){
                            getanswer="未作答";
                        }

                                $("#logo0").append('<img class="yesorno" src="../assets/img/yesorno/no.png">');
                                $(".glyphicon").remove();
                                $("#title0").append('<div class="tno" id="title0"><h5>您的答案：'+getanswer+'</h5><button style="padding-left:0px" class="showdetail btn btn-xs btn-link" id="showdetail0" type="button" class="btn btn-xs btn-link">看解析</button></div>');

                $("#showdetail"+0).click(function(){
                        $(".answerlist").remove();
                        $("#explain0").append('<div class="explainlist">'+explain+'</div>');
                })
                }


                $("#submit" ).click(function() {
                    
                    wronganswer();
                    $(".useranswer").remove();
                    $("#submit").fadeOut(100);

                })

                $("#next").click(function(){
                    
                    $(".yesorno").remove();
                    $(".timeline-badge").append('<i class="glyphicon glyphicon-education"></i>');
                    $('.questionlist').remove();
                    $(".tno").remove();
                    $("#submit").fadeIn(100);
                    $(".explainlist").remove();
                    random(apilink);
                })


        });
    </script>

    <!-- 左侧知识树 -->
    <link href="../dist/css/jquery-accordion-menu.css" rel="stylesheet" type="text/css" />
    <link href="../dist/css/font-awesome.css" rel="stylesheet" type="text/css" />

    <link href="../dist/css/button.css" rel="stylesheet" type="text/css" />

    <script src="../dist/js/awol.js"></script>






    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>做题不无聊</title>

    <!-- Bootstrap Core CSS -->
    <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="../dist/css/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="../bower_components/morrisjs/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
        .panel-heading{
            font-size:24px;
        }
        #tree{
            padding:20px 0 0 0;
        }
        #page-wrapper{
            visibility: hidden;
            height: 0;
            width: 0;
        }
        
        
        #jquery-accordion-menu{
            padding-left: 0px;
            padding-right: 0px;
            min-width: 0px;
            position: relative;
        }
        .tyes{
            color: green;
        }
        .tno{
            color:red;
        }
        h5{
            color: black;
        }
        #studyprocess{
            float: right;
            color: red;
        }
        .needcolor{
            background-color: #383838;
        }
        h1,h3{
            text-align: center;
        }
        .video{
            background: url("../assets/img/imac.png")  no-repeat;
            /*background-size: 480px 400px;*/
            background-size: 100% 100%;
            position: relative;
        }
        #img{
            z-index:9999;
            width: 447px;
            height: 263px;
            padding-left: 4px;
            padding-top: 18px;
        }
        .needcolor{
            background-color: #074b5b;
        }
        #currentinfo{
            width: 300px;
        }
        #submit{
            z-index: 10;
            position: absolute;
        }
        #next{
            z-index: 5;
            position: absolute;
        }
        .panel-default{
            margin-bottom: 0;
        }
    </style>

</head>

<body>
<div class="container-fluid col-md-12">



    <!-- 导航栏 -->
  <div class="row col-md-12" id="top">
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-top: 0">
            <div class="navbar-header col-md-12">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="col-md-11" style="padding-left:0">
                    <div class="col-md-5">
                    <a class="navbar-brand" style="padding-left:0" href="index.html" id="title">做题不无聊 V0.9</a>
                    </div>
                    <!-- now -->
                    <div class="col-md-6">当前章节：<p id="currentinfo"></p></div>
                </div>
                <div class="col-md-1" style="padding-right:0">
                    <a class="navbar-brand" style="padding-right:0" href="person.html" >个人中心</a>
                </div>
            </div>
            
        </nav>
    </div>






    <div clsss="row col-md-12" id="bottom">


        <div class="theme-popover2 col-md-10 col-md-offset-1">
            
        </div>

        <!-- 右侧做题 -->    
        <div id="exam" class="col-md-10 col-md-offset-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-clock-o fa-fw"></i> 本章推荐
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="col-md-12">
                        <div id="videoplace" style="height:70%;margin-top:30px;margin-bottom:30px;" class="col-md-7 video">

                        </div>
                        <div id="textplace" style="margin-top:30px" class="col-md-4 col-md-offset-1">
                            <div id="textplace1" class="col-md-12">
                                <h3>概念</h3>
                                <div id="textplace2">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <ul class="timeline">
                        <!-- 第一题 -->
                        <li >
                            <!-- 问第一题 -->
                            <div id="logo0" class="timeline-badge info">
                                <i class="glyphicon glyphicon-education"></i>
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <h4 class="timeline-title">Question1</h4>
                                </div>
                                <div class="timeline-body" id="Q0">
                                </div>
                            </div>
                            <!-- 回答第一题 -->
                            <div class="timeline-panelright">
                                <div class="timeline-heading answertitle" id="explain0">
                                    <h4 id="title0" class="timeline-title">Answer1</h4>
                                </div>
                                <div class="timeline-body" id="A0">

                                </div>
                            </div>
                        </li>


                        

                        <div class="buttongroup col-md-3 col-md-offset-9" id="buttonplace">
                            <button id="submit" type="button" class="button button-caution button-pill button-pill">
                                提交答案
                            </button>
                            <button id="next" type="button" class="button button-caution button-pill button-pill">
                                再做一题
                            </button>
                        </div>
                    </ul>
                </div>
            </div>
    </div>
</div>



    </div>
    <!-- /#wrapper -->

    

</body>

</html>